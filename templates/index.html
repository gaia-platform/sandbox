<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Gaia Sandbox</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <!-- Favicons -->
  <link href="{{ url_for('static', filename='img/favicon.png') }}" rel="icon">

  <!-- Google Fonts (Lato and Roboto)-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>

<body>
  <div id="inprod" data-inprod={{prod}}></div>
  <div stackColumnsAt="tablet" class="div" data-name="div-1">
    <div class="builder-columns columns header">
      <div class="builder-column column">
        <a href="https://www.gaiaplatform.io/"
          image="https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f"
          backgroundPosition="right" backgroundSize="contain" altText="Gaia Platform" builderTag="a" class="a"
          data-name="a-1">
          <picture>
            <source srcset="
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?format=webp&width=100   100w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?format=webp&width=200   200w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?format=webp&width=400   400w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?format=webp&width=800   800w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?format=webp&width=1200 1200w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?format=webp&width=1600 1600w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?format=webp&width=2000 2000w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f
            " type="image/webp" />

            <img
              src="https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f"
              srcset="
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?width=100   100w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?width=200   200w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?width=400   400w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?width=800   800w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?width=1200 1200w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?width=1600 1600w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f?width=2000 2000w,
              https://cdn.builder.io/api/v1/image/assets%2F5864aab9464741c882f7bea9704bedfc%2F4c7ab4184c814feda5eadf6581af562f
            " class="image" />
          </picture>

          <div class="builder-image-sizer image-sizer"></div>
        </a>
      </div>

      <div class="builder-column column-2">
        <div class="div-2">
          <p>Sandbox</p>
        </div>
      </div>

      <div class="builder-column privacy-column">
        <a id="privacy-button" class="a-2" data-name="a-2">
          Privacy
        </a>
      </div>

      <div class="builder-column get-sdk-column">
        <a href="https://www.gaiaplatform.io/developers" class="a-2" data-name="a-2">
          Get the SDK
        </a>
      </div>

      <div class="builder-column column-4">
        <a href="https://www.gaiaplatform.io/sign-up" class="a-3 button" data-name="a-3">
          Sign up
        </a>
      </div>
    </div>
  </div>
  <div stackColumnsAt="tablet" class="div-3" data-name="div-2">
    <div class="builder-columns columns">
      <div class="builder-column column-5">
        <div class="div-4">
          <span class="editor-tab button selected-tab" data-tab-name="ruleset">Ruleset</span>

          <span class="editor-tab button" data-tab-name="ddl">DDL</span>

          <span class="editor-tab button" data-tab-name="output">Output</span>
        </div>

        <div class="div-5" id="sandboxEditor">
        </div>
      </div>

      <div class="builder-column column-6">
        <div stackColumnsAt="tablet" class="div-6" data-name="div-3">
          <div class="builder-columns columns">
            <div class="builder-column column-7">
              <span class="span-4 button" id="ctrl-button">Build</span>
            </div>

            <div class="builder-column column-8">
              <span class="span-5 button" id="get-started-button">Get Started</span>
            </div>

            {% if prod == 'false' %}
            <div class="builder-column column-9">
              <span class="span-6 button" id="reset-button">Show REMOTE_CLIENT_ID</span>
            </div>

            <div class="builder-column column-10">
              <span class="span-7 button" id="test-button">Show Subscribe UUID</span>
            </div>
            {% endif %}
          </div>
        </div>

        <div class="div-7">
          <iframe src="{{ url_for('static', filename='visual/index.html') }}"
            style="position: relative; height: 100%; width: 100%;" frameBorder="0" scrolling="no"></iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- Privacy Modal -->
  <div id="privacy-modal" class="modal">
    <div id="privacy-modal-content">
      <p>
        The Gaia Sandbox system stores two
        <strong>strictly necessary cookies</strong>.
        Deleting these cookies will simply reset your Sandbox experience,
        which will mean you lose any code or edits made in the sandbox.
      </p>
      <span class="modal-close-button button">OK</span>
    </div>
  </div>

  <!-- Get Started Modal -->
  <div id="get-started-modal" class="modal">
    <div id="get-started-content">
      <p>
        <h1 id="gaiaamrswarmfactorysample">Gaia AMR swarm factory sample</h1>

<p>The Gaia Sandbox provides a containerized simulation environment that allows you to experiment with samples written using the Gaia Platform.</p>

<p>This sample models a factory that contains the following:</p>

<ul>
<li>Robots that move in safe zones on the factory floor


<ul>
<li>Pallet robots</li>

<li>widget robots</li></ul>
</li>

<li>An automated factory assembly line across the top. <br />


<ul>
<li>When a widget part is placed in the input (<strong>PL Start</strong>) it moves to the <strong>Outbound</strong> station on the right.</li></ul>
</li>
</ul>

<p>Pallets of widget parts arrive on the bottom-right and need to be moved by a pallet robot to the pallet unpacking station (<strong>Buffer</strong>) on the bottom left. From there,  widget moves the raw widget materials to the <strong>PL Start</strong> station on the automated factory line.into the input area for the automated widget factory.  Finally, "processed" widgets are packed onto an outbound pallet by the widget robot and shipped off.</p>

<h2 id="overviewofthesandbox">Overview of the Sandbox</h2>

<p>The Sandbox UI consists of the following elements.</p>

<h3 id="simulatorwindow">Simulator window</h3>

<p>The right side of the screen provides a visualization of the factory and the robots in it. When the simulation runs, the factory produces events that the Gaia sample app responds to by sending tasks to the robots.</p>

<h3 id="rulesetddlandoutputtabs">Ruleset, DDL, and Output tabs</h3>

<p>There are three tabs on the left. These are windows that show:</p>

<ul>
<li>Ruleset: Displays the Declarative C++ code that handles the factory events. You can modify the code in this tab and rebuild the sample to see how the changes affect the way that the sample runs. Rulesets encode the "business logic" that controls robot behavior.</li>

<li>DDL: Displays the DDL code that describes the layout of the factory, the state of the AMR robots, and events the factory produces.  In short, the DDL represents the data model for the app.</li>

<li>Output: Displays details when building/running your program.</li>
</ul>

<h2 id="buildandrunthesample">Build and run the sample</h2>

<p>For the best user experience, run the Sandbox in full screen mode set to Full HD or higher resolution.</p>

<p>The Sandbox contains a complete sample for you to examine and modify.</p>

<p>To build the sample, select the <strong>Build</strong> button located above the simulator window. The state of the button changes depending on what point in the build/run cycle that you are in.</p>

<p>While the sample builds, the <strong>Output</strong> window displays the progress of the build.</p>

<p><strong>Note</strong>: It can take several minutes to build the sample. </p>

<p>When the sample has completed building, select the <strong>Run</strong> button, then select the <strong>Receive Order</strong> button at the bottom right corner of the factory display. </p>

<p>The pallet bot moves the incoming widget order to the <strong>Buffer</strong>. </p>

<p>In this beta version of the Sandbox the simulation stops running after about 2000 lines of output. To reset the simulation, refresh the browser window. If you encounter either a synchronization or serialization error, reset the Sandbox by \<fill in when implemented></p>

<p>Now you can start experimenting with the sample to see how it affects the running of the factory. You can modify the rules and DDL and run the sample and compare results.</p>

<p>For more information about Rulesets and Gaia DDL, see the <a href="http://docs.gaiaplatform.io">Gaia technical documentation</a>. </p>
      </p>
      <span class="modal-close-button button">OK</span>
    </div>
  </div>
</body>


<!-- JavaScript Libraries -->
<script src="{{ url_for('static', filename='lib/jquery/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='lib/jquery/jquery-migrate.min.js') }}"></script>

<script src="{{ url_for('static', filename='lib/monaco/vs/loader.js') }}"></script>


<!-- Main and MQTT Javascript File -->
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<script src="{{ url_for('static', filename='dist/mqtt_bundle.js') }}"></script>


</body>

</html>